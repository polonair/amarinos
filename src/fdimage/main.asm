org 0x7C00
	jmp word boot
label disk_id byte at $$
boot_msg db "AmarinOs Bootloader v0.0.0",13,10,0
reboot_msg db "Press any key...",13,10,0
; print string DS:SI
write_str:
	push ax si
	mov ah, 0x0E
 @@:
	lodsb
	test al, al
	jz @f
	int 0x10
	jmp @b
 @@:
	pop si ax
	ret

error:
	pop si
	call write_str

reboot:
	mov si, reboot_msg
	call write_str
	xor ah, ah
	int 0x16
	jmp 0xFFFF:0

boot:
	; setup segment registers
	jmp 0:@f
 @@:
	mov ax, cs
	mov ds, ax
	mov es, ax
	; setup stack
	mov ss, ax
	mov sp, $$
	; enable interrupts
	sti
	; save disk id
	mov [disk_id], dl
	; print boot_msg
	mov si, boot_msg
	call write_str
	; reboot
	jmp reboot
; rest
rb 0x200 - ($ - $$) - 2
db 0x55,0xAA

;;; ext2fs

; SUPERBLOCK
rb 0x400 - ($ - $$)
	dd 192        ; total number of inodes
	dd 360        ; total number of blocks
	dd 18         ; total blocks reserved for superuser
	dd 335        ; number of unallocated blocks
	dd 178        ; number of unallocated inodes
	dd 0          ; superblock position 
	dd 2          ; block size = 4096
	dd 2          ; fragment size = 4096
	dd 32768      ; number of blocks in each block group
	dd 32768      ; number of fragments in each block group
	dd 192        ; number of inodes in each block group
	dd 1656249557 ; last mount time
	dd 1656249607 ; last written time
	dw 1          ; numer of times volume mounted
	dw -1         ; Number of mounts allowed before a consistency check must be done
	dw 0xEF53     ; ext2 signature
	dw 1          ; fs state (1 = ok)
	dw 1          ; error handling (1 = ignore)
	dw 0          ; version x.0
	dd 1656249544 ; last concistency check
	dd 0          ; interval between forced consistency check
	dd 1314016577 ; OS id = 0x4E524D41 'AMRN'
	dd 1          ; version 1.x
	dw 0          ; UID who can use reserved blocks
	dw 0          ; GID who can use reserved blocks
; superblock extension for version >= 1.0
	dd 11         ; first nonreserved inode
	dw 256        ; size of each inode
	dw 0          ; Block group that this superblock is part of (if backup copy)
	dd 0x38       ; opt features = Inodes have extended attributes | File system can resize itself for larger partitions | Directories use hash index
	dd 0x02       ; req features = Directory entries contain a type field
	dd 0x03       ; ro features  = Sparse superblocks and group descriptor tables | File system uses a 64-bit file size
	dd 0x9A, 0xF2, 0x57, 0x63     ; fs ID 
		db 0x58, 0x7B, 0x46, 0x3C
		db 0x82, 0x1B, 0x2E, 0x1A
		db 0xC4, 0x97, 0x0A, 0x4D
	db 16 dup ( 0 )  ; volume label = NONE
	db "/" ; path volume last mounted to
	db 63 dup ( 0 )  ; rest
	dd 0             ; compression algorithm = none
	db 0 ; number of blocks prealloc for files
	db 0 ; number of blocks prealloc for dirs
	dw 0 ; unused
	db 16 dup ( 0 ) ; Journal ID
	dd 0 ; j inode
	dd 0 ; j device
	dd 0 ; head of orphan inode list

	; magic data
	db 0x00, 0x00, 0x00, 0x00, 0x86, 0x6D, 0xC1, 0x26
	db 0x5D, 0xEF, 0x48, 0x67, 0x93, 0x0A, 0x62, 0x84, 0x24, 0x8F, 0x23, 0x7F
	db 0x01, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0xC8, 0x5C, 0xB8, 0x62, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x20, 0x00, 0x20, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00

; BLOCK GROUP DESCRIPTOR TABLE
rb 0x1000 - ($ - $$)

	dd 2   ; Block address of block usage bitmap
	dd 3   ; Block address of inode usage bitmap
	dd 4   ; Starting block address of inode table
	dw 335 ; Number of unallocated blocks in group
	dw 178 ; Number of unallocated inodes in group
	dw 3   ; Number of directories in group
	db 4   ; magic

; blok usage bitmap
rb 0x2000 - ($ - $$)

	db 0xFF, 0xFF, 0xFF, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF
	db 0xfd0 dup ( 0xff )

; inode usage bitmap
rb 0x3000 - ($ - $$)

	db 0xFF, 0x3F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF
	db 0xfe0 dup ( 0xff )

; inode table
; inode#1
rb 0x4000 - ($ - $$)

	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC8, 0x5C, 0xB8, 0x62
	db 0xC8, 0x5C, 0xB8, 0x62, 0xC8, 0x5C, 0xB8, 0x62
; inode#2 .. inode#6
rb 0x4100 - ($ - $$)

	db 0xED, 0x41, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0xC8, 0x5C, 0xB8, 0x62
	db 0xE2, 0x5C, 0xB8, 0x62, 0xE2, 0x5C, 0xB8, 0x62, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x04, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x01, 0x00, 0x00, 0x00, 0x10

rb 0x4180 - ($ - $$)

	db 0x20, 0x00, 0x00, 0x00, 0x10, 0x8D, 0xF8, 0x0A, 0x10, 0x8D, 0xF8, 0x0A
	db 0x00, 0x00, 0x00, 0x00, 0xC8, 0x5C, 0xB8, 0x62

; inode#7
rb 0x4600 - ($ - $$)

	db 0x80, 0x81, 0x00, 0x00, 0x00, 0xC0, 0x40, 0x00, 0xC8, 0x5C, 0xB8, 0x62
	db 0xC8, 0x5C, 0xB8, 0x62, 0xC8, 0x5C, 0xB8, 0x62, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x01, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x15, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0xC8, 0x5C, 0xB8, 0x62

rb 0x4A00 - ($ - $$)

	db 0xC0, 0x41, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0xC8, 0x5C, 0xB8, 0x62
	db 0xC8, 0x5C, 0xB8, 0x62, 0xC8, 0x5C, 0xB8, 0x62, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x02, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x11, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00
	db 0x13, 0x00, 0x00, 0x00, 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0xC8, 0x5C, 0xB8, 0x62, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00

	db 0xED, 0x41, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00
	db 0xF9, 0x5C, 0xB8, 0x62, 0xFD, 0x5C, 0xB8, 0x62, 0xFD, 0x5C, 0xB8, 0x62
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x08, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x16, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xEC, 0x0C, 0xFE, 0xF1
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x20, 0x00, 0x00, 0x00, 0x10, 0x87, 0x80, 0x33, 0x10, 0x87, 0x80, 0x33
	db 0x10, 0x31, 0x8C, 0xE1, 0xE2, 0x5C, 0xB8, 0x62, 0x10, 0x8D, 0xF8, 0x0A
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00

	db 0xED, 0x81, 0x00, 0x00
	db 0x14, 0x00, 0x00, 0x00, 0xED, 0x5C, 0xB8, 0x62, 0xED, 0x5C, 0xB8, 0x62
	db 0xED, 0x5C, 0xB8, 0x62, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00
	db 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00
	db 0x17, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0xEA, 0x47, 0x2F, 0xBA, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x10, 0x25, 0x6F, 0x01
	db 0x10, 0x25, 0x6F, 0x01, 0x10, 0x25, 0x6F, 0x01, 0xED, 0x5C, 0xB8, 0x62
	db 0x10, 0x25, 0x6F, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	
	db 0xED, 0x81, 0x00, 0x00, 0x00, 0x0A, 0x00, 0x00, 0xFD, 0x5C, 0xB8, 0x62
	db 0xFD, 0x5C, 0xB8, 0x62, 0xFD, 0x5C, 0xB8, 0x62, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x01, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x01, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x51, 0xA9, 0x0F, 0xF8, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00
	db 0x10, 0x87, 0x80, 0x33, 0x10, 0x87, 0x80, 0x33, 0x10, 0x87, 0x80, 0x33
	db 0xFD, 0x5C, 0xB8, 0x62, 0x10, 0x87, 0x80, 0x33

rb 0x10000 - ($ - $$)

	db 0x02, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x01, 0x02, 0x2E, 0x00, 0x00, 0x00
	db 0x02, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x02, 0x02, 0x2E, 0x2E, 0x00, 0x00
	db 0x0B, 0x00, 0x00, 0x00, 0x14, 0x00, 0x0A, 0x02, 0x6C, 0x6F, 0x73, 0x74
	db 0x2B, 0x66, 0x6F, 0x75, 0x6E, 0x64, 0x00, 0x00, 0x0C, 0x00, 0x00, 0x00
	db 0xD4, 0x0F, 0x04, 0x02, 0x62, 0x6F, 0x6F, 0x74

rb 0x11000 - ($ - $$)

	db 0x0B, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x01, 0x02, 0x2E, 0x00, 0x00, 0x00
	db 0x02, 0x00, 0x00, 0x00, 0xF4, 0x0F, 0x02, 0x02, 0x2E, 0x2E

rb 0x12000 - ($ - $$)

	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x10

rb 0x13000 - ($ - $$)

	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x10

rb 0x14000 - ($ - $$)

	db 0x00, 0x00, 0x00, 0x00, 0x00, 0x10

rb 0x16000 - ($ - $$)

	db 0x0C, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x01, 0x02, 0x2E, 0x00, 0x00, 0x00
	db 0x02, 0x00, 0x00, 0x00, 0x0C, 0x00, 0x02, 0x02, 0x2E, 0x2E, 0x00, 0x00
	db 0x0D, 0x00, 0x00, 0x00, 0x10, 0x00, 0x06, 0x01, 0x63, 0x6F, 0x6E, 0x66
	db 0x69, 0x67, 0x00, 0x00, 0x0E, 0x00, 0x00, 0x00, 0xD8, 0x0F, 0x0C, 0x01
	db 0x61, 0x6B, 0x72, 0x6E, 0x6C, 0x2D, 0x76, 0x30, 0x2E, 0x30, 0x2E, 0x31
	db 0x00, 0x00, 0x00, 0x00

rb 0x17000 - ($ - $$) ; config

	db "/boot/akrnl-v0.0.1", 0x0A, 0x0A

rb 0x18000 - ($ - $$) ; akrnl-v0.0.1 5 x 512 bytes

	db 0xff

; rest
rb 0x168000 - ($ - $$) - 1
db 0x00